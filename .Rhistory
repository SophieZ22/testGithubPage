xlab(NULL)+
ylab(NULL)+
theme_minimal() +
theme(plot.title = element_text(hjust = 0.5),
plot.subtitle = element_text(hjust = 0.5))
# north(sf_az, symbol=10, location="bottomleft")
# 不是ggsn的north方法，而是terra的north方法，所以有变化
north(cbind(5.8, 50.1))
?north
library(ggplot2)
library(stars)
#library(terra)
library(sf)
library(dplyr)
usa <- st_as_sf(maps::map("state", fill=TRUE, plot =FALSE),
crs = 4269)
sf_az <- st_as_sf(AZ_sites,
coords = c("dec_long_va", "dec_lat_va"),
crs = 4269)
ggplot() +
geom_sf(data = usa[ usa$ID == "arizona"]) +
geom_sf(data = sf_az) +
xlab(NULL)+
ylab(NULL)+
theme_minimal() +
theme(plot.title = element_text(hjust = 0.5),
plot.subtitle = element_text(hjust = 0.5))
# north(sf_az, symbol=10, location="bottomleft")
# 不是ggsn的north方法，而是terra的north方法，所以有变化
north(cbind(5.8, 50.1))
?north
detach("package:terra", unload = TRUE)
library(ggplot2)
library(stars)
#library(terra)
library(sf)
library(dplyr)
usa <- st_as_sf(maps::map("state", fill=TRUE, plot =FALSE),
crs = 4269)
sf_az <- st_as_sf(AZ_sites,
coords = c("dec_long_va", "dec_lat_va"),
crs = 4269)
ggplot() +
geom_sf(data = usa[ usa$ID == "arizona"]) +
geom_sf(data = sf_az) +
xlab(NULL)+
ylab(NULL)+
theme_minimal() +
theme(plot.title = element_text(hjust = 0.5),
plot.subtitle = element_text(hjust = 0.5))
# north(sf_az, symbol=10, location="bottomleft")
# 不是ggsn的north方法，而是terra的north方法，所以有变化
north(cbind(5.8, 50.1))
library(ggplot2)
library(stars)
library(terra)
library(sf)
library(dplyr)
usa <- st_as_sf(maps::map("state", fill=TRUE, plot =FALSE),
crs = 4269)
sf_az <- st_as_sf(AZ_sites,
coords = c("dec_long_va", "dec_lat_va"),
crs = 4269)
ggplot() +
geom_sf(data = usa[ usa$ID == "arizona"]) +
geom_sf(data = sf_az) +
xlab(NULL)+
ylab(NULL)+
theme_minimal() +
theme(plot.title = element_text(hjust = 0.5),
plot.subtitle = element_text(hjust = 0.5))
# north(sf_az, symbol=10, location="bottomleft")
# 不是ggsn的north方法，而是terra的north方法，所以有变化
north(cbind(5.8, 50.1))
install.packages("tidyterra")
library(ggplot2)
library(stars)
library(tidyterra)
library(sf)
library(dplyr)
usa <- st_as_sf(maps::map("state", fill=TRUE, plot =FALSE),
crs = 4269)
sf_az <- st_as_sf(AZ_sites,
coords = c("dec_long_va", "dec_lat_va"),
crs = 4269)
ggplot() +
geom_sf(data = usa[ usa$ID == "arizona"]) +
geom_sf(data = sf_az) +
xlab(NULL)+
ylab(NULL)+
theme_minimal() +
theme(plot.title = element_text(hjust = 0.5),
plot.subtitle = element_text(hjust = 0.5))
# north(sf_az, symbol=10, location="bottomleft")
# 不是ggsn的north方法，而是terra的north方法，所以有变化
north(cbind(5.8, 50.1))
detach("package:terra", unload = TRUE)
library(ggplot2)
library(stars)
library(terra)
library(sf)
library(dplyr)
usa <- st_as_sf(maps::map("state", fill=TRUE, plot =FALSE),
crs = 4269)
sf_az <- st_as_sf(AZ_sites,
coords = c("dec_long_va", "dec_lat_va"),
crs = 4269)
ggplot() +
geom_sf(data = usa[ usa$ID == "arizona"]) +
geom_sf(data = sf_az) +
xlab(NULL)+
ylab(NULL)+
theme_minimal() +
theme(plot.title = element_text(hjust = 0.5),
plot.subtitle = element_text(hjust = 0.5))
# north(sf_az, symbol=10, location="bottomleft")
# 不是ggsn的north方法，而是terra的north方法，所以有变化
north(cbind(5.8, 50.1))
library(ggplot2)
library(stars)
library(terra)
library(sf)
library(dplyr)
usa <- st_as_sf(maps::map("state", fill=TRUE, plot =FALSE),
crs = 4269)
sf_az <- st_as_sf(AZ_sites,
coords = c("dec_long_va", "dec_lat_va"),
crs = 4269)
ggplot() +
geom_sf(data = usa[ usa$ID == "arizona"]) +
geom_sf(data = sf_az) +
xlab(NULL)+
ylab(NULL)+
theme_minimal() +
theme(plot.title = element_text(hjust = 0.5),
plot.subtitle = element_text(hjust = 0.5))
# north(sf_az, symbol=10, location="bottomleft")
# 不是ggsn的north方法，而是terra的north方法，所以有变化
north(cbind(5.8, 50.1))
library(ggplot2)
library(stars)
library(terra)
library(sf)
library(dplyr)
usa <- st_as_sf(maps::map("state", fill=TRUE, plot =FALSE),
crs = 4269)
sf_az <- st_as_sf(AZ_sites,
coords = c("dec_long_va", "dec_lat_va"),
crs = 4269)
ggplot() +
geom_sf(data = usa[ usa$ID == "arizona"]) +
geom_sf(data = sf_az) +
xlab(NULL)+
ylab(NULL)+
theme_minimal() +
theme(plot.title = element_text(hjust = 0.5),
plot.subtitle = element_text(hjust = 0.5)) +
coord_sf(crs = 3857)
# north(sf_az, symbol=10, location="bottomleft")
# 不是ggsn的north方法，而是terra的north方法，所以有变化
#north(cbind(5.8, 50.1))
# scalebar(usa[ usa$ID == "arizona" ,],
#          dist=100, dist_unit="mi", st.size = 3,
#          transform=TRUE, model="WGS84")
library(ggplot2)
library(stars)
library(terra)
library(sf)
library(dplyr)
usa <- st_as_sf(maps::map("state", fill=TRUE, plot =FALSE),
crs = 4269)
sf_az <- st_as_sf(AZ_sites,
coords = c("dec_long_va", "dec_lat_va"),
crs = 4269)
ggplot() +
geom_sf(data = usa[ usa$ID == "arizona"]) +
geom_sf(data = sf_az) +
xlab(NULL)+
ylab(NULL)+
theme_minimal() +
theme(plot.title = element_text(hjust = 0.5),
plot.subtitle = element_text(hjust = 0.5)) +
coord_sf(crs = 3857)
# north(sf_az, symbol=10, location="bottomleft")
# 不是ggsn的north方法，而是terra的north方法，所以有变化
#north(cbind(5.8, 50.1))
# scalebar(usa[ usa$ID == "arizona" ,],
#          dist=100, dist_unit="mi", st.size = 3,
#          transform=TRUE, model="WGS84")
knitr::opts_chunk$set(echo = TRUE,comment='', engine.path = list(python = #'C:\\Users\\sustech\\.conda\\envs\\gdalcartopy\\python.exe',
'C:\\Users\\zsh\\.conda\\envs\\ese5023\\python.exe'))
library(showtext)
showtext_auto()
# 安装包
# install.packages("dataRetrieval")
# 载入包
library(dataRetrieval)
# 打开主包介绍"
vignette("dataRetrieval", package = "dataRetrieval")
siteNo <- "06818000"
pCode <- "00060"
start.date <- "2003-01-01"
end.date <- "2017-12-31"
pheasant <- readNWISuv(siteNumbers = siteNo,
parameterCd = pCode,
startDate = start.date,
endDate = end.date)
names(pheasant)
pheasant <- renameNWISColumns(pheasant)
names(pheasant)
names(attributes(pheasant))
# 访问不同属性
url <- attr(pheasant, "url")
url
nn<-names(attributes(pheasant))
for (value in nn) {
print(attr(pheasant,value))
}
# 访问不同属性
url <- attr(pheasant, "url")
url
nn<-names(attributes(pheasant))
print(nn)
for (value in nn) {
print(attr(pheasant,value))
}
# 访问不同属性
url <- attr(pheasant, "url")
url
nn<-names(attributes(pheasant))
print(nn)
for (value in nn) {
print(value)
#print(attr(pheasant,value))
}
# 访问不同属性
url <- attr(pheasant, "url")
url
nn<-names(attributes(pheasant))
print(nn)
for (value in nn) {
print(value)
print(attr(pheasant,value))
}
# 访问不同属性
url <- attr(pheasant, "url")
url
nn<-names(attributes(pheasant))
print(nn)
# 访问不同属性
url <- attr(pheasant, "url")
url
nn<-names(attributes(pheasant))
print(nn)
# 访问不同属性
url <- attr(pheasant, "url")
siteInfo <- attr(pheasant,"siteInfo")
variableInfo<- attr(pheasant,"variableInfo")
print(url,siteInfo,variableInfo)
print(variableInfo)
nn<-names(attributes(pheasant))
print(nn)
# 访问不同属性
url <- attr(pheasant, "url")
siteInfo <- attr(pheasant,"siteInfo")
variableInfo<- attr(pheasant,"variableInfo")
print(url)
print(siteInfo)
print(variableInfo)
library(ggplot2)
ts <- ggplot(data = pheasant,
aes(dateTime, Flow_Inst)) +
geom_line()
ts
parameterInfo <- attr(pheasant, "variableInfo")
siteInfo <- attr(pheasant, "siteInfo")
ts <- ts +
xlab("") +
ylab(parameterInfo$variableDescription) +
ggtitle(siteInfo$station_nm)
ts
library (data.table)
fn <- "D:\Program1\study\yan1\remote_sensing_hydrology\project\discharge\site06818000.csv"
fn <- r"D:\Program1\study\yan1\remote_sensing_hydrology\project\discharge\site06818000.csv"
fn <- "D:\\Program1\\study\\yan1\\remote_sensing_hydrology\\project\\discharge\\site06818000.csv"
write.csv(pheasant,fn,row.names= TRUE )
# fn <- "D:\\Program1\\study\\yan1\\remote_sensing_hydrology\\project\\discharge\\site06818000.csv"
# write.csv(pheasant,fn,row.names= TRUE )
fn <- "D:\\Program1\\study\\yan1\\remote_sensing_hydrology\\project\\discharge\\site06818000_metadata.csv"
write.csv(siteInfo,fn,row.names= TRUE )
write.csv(variableInfo,fn,row.names= TRUE )
# fn <- "D:\\Program1\\study\\yan1\\remote_sensing_hydrology\\project\\discharge\\site06818000.csv"
# write.csv(pheasant,fn,row.names= TRUE )
fn <- "D:\\Program1\\study\\yan1\\remote_sensing_hydrology\\project\\discharge\\site06818000_siteInfo.csv"
write.csv(siteInfo,fn,row.names= TRUE )
fn <- "D:\\Program1\\study\\yan1\\remote_sensing_hydrology\\project\\discharge\\site06818000_variableInfo.csv"
write.csv(variableInfo,fn,row.names= TRUE )
knitr::opts_chunk$set(echo = TRUE,comment='', engine.path = list(python = #'C:\\Users\\sustech\\.conda\\envs\\gdalcartopy\\python.exe',
'C:\\Users\\zsh\\.conda\\envs\\ese5023\\python.exe'))
library(showtext)
showtext_auto()
# 安装包
# install.packages("dataRetrieval")
# 载入包
library(dataRetrieval)
# 打开主包介绍"
vignette("dataRetrieval", package = "dataRetrieval")
siteNo <- "06807000"
pCode <- "00060"
start.date <- "2003-01-01"
end.date <- "2017-12-31"
pheasant <- readNWISuv(siteNumbers = siteNo,
parameterCd = pCode,
startDate = start.date,
endDate = end.date)
names(pheasant)
pheasant <- renameNWISColumns(pheasant)
names(pheasant)
nn<-names(attributes(pheasant))
print(nn)
# 访问不同属性
url <- attr(pheasant, "url")
siteInfo <- attr(pheasant,"siteInfo")
variableInfo<- attr(pheasant,"variableInfo")
print(url)
print(siteInfo)
print(variableInfo)
View(siteInfo)
View(variableInfo)
library(ggplot2)
ts <- ggplot(data = pheasant,
aes(dateTime, Flow_Inst)) +
geom_line()
ts
parameterInfo <- attr(pheasant, "variableInfo")
siteInfo <- attr(pheasant, "siteInfo")
ts <- ts +
xlab("") +
ylab(parameterInfo$variableDescription) +
ggtitle(siteInfo$station_nm)
ts
View(siteInfo)
# fn <- "D:\\Program1\\study\\yan1\\remote_sensing_hydrology\\project\\discharge\\site06807000.csv"
# write.csv(pheasant,fn,row.names= TRUE )
fn <- "D:\\Program1\\study\\yan1\\remote_sensing_hydrology\\project\\discharge\\site06807000_siteInfo.csv"
write.csv(siteInfo,fn,row.names= TRUE )
fn <- "D:\\Program1\\study\\yan1\\remote_sensing_hydrology\\project\\discharge\\site06807000_variableInfo.csv"
write.csv(variableInfo,fn,row.names= TRUE )
knitr::opts_chunk$set(echo = TRUE,comment='', engine.path = list(python = #'C:\\Users\\sustech\\.conda\\envs\\gdalcartopy\\python.exe',
'C:\\Users\\zsh\\.conda\\envs\\ese5023\\python.exe'))
library(showtext)
showtext_auto()
# 安装包
# install.packages("dataRetrieval")
# 载入包
library(dataRetrieval)
# 打开主包介绍"
vignette("dataRetrieval", package = "dataRetrieval")
siteNo <- "06807000"
pCode <- "00060"
start.date <- "2003-01-01"
end.date <- "2017-12-31"
pheasant <- readNWISuv(siteNumbers = siteNo,
parameterCd = pCode,
startDate = start.date,
endDate = end.date)
names(pheasant)
View(pheasant)
pheasant <- renameNWISColumns(pheasant)
names(pheasant)
View(pheasant)
fn <- "D:\\Program1\\study\\yan1\\remote_sensing_hydrology\\project\\discharge\\site06807000.csv"
write.csv(pheasant,fn,row.names= TRUE )
fn <- "D:\\Program1\\study\\yan1\\remote_sensing_hydrology\\project\\discharge\\site06807000_siteInfo.csv"
write.csv(siteInfo,fn,row.names= TRUE )
knitr::opts_chunk$set(echo = TRUE,comment='', engine.path = list(python = #'C:\\Users\\sustech\\.conda\\envs\\gdalcartopy\\python.exe',
'C:\\Users\\zsh\\.conda\\envs\\ese5023\\python.exe'))
library(showtext)
showtext_auto()
# 安装包
# install.packages("dataRetrieval")
# 载入包
library(dataRetrieval)
# 打开主包介绍"
vignette("dataRetrieval", package = "dataRetrieval")
siteNo <- "06807000"
pCode <- "00060"
start.date <- "2001-01-01"
end.date <- "2017-12-31"
pheasant <- readNWISuv(siteNumbers = siteNo,
parameterCd = pCode,
startDate = start.date,
endDate = end.date)
names(pheasant)
View(pheasant)
pheasant <- renameNWISColumns(pheasant)
names(pheasant)
View(pheasant)
nn<-names(attributes(pheasant))
print(nn)
# 访问不同属性
url <- attr(pheasant, "url")
siteInfo <- attr(pheasant,"siteInfo")
variableInfo<- attr(pheasant,"variableInfo")
print(url)
print(siteInfo)
print(variableInfo)
fn <- "D:\\Program1\\study\\yan1\\remote_sensing_hydrology\\final_proj\\discharge\\site06807000\\discharge.csv"
write.csv(pheasant,fn,row.names= TRUE )
fn <- "D:\\Program1\\study\\yan1\\remote_sensing_hydrology\\final_proj\\data\\discharge\\site06807000\\discharge.csv"
write.csv(pheasant,fn,row.names= TRUE )
fn <- "D:\\Program1\\study\\yan1\\remote_sensing_hydrology\\final_proj\\data\\discharge\\site06807000\\siteInfo.csv"
write.csv(siteInfo,fn,row.names= TRUE )
fn <- "D:\\Program1\\study\\yan1\\remote_sensing_hydrology\\final_proj\\data\\discharge\\site06807000\\variableInfo.csv"
write.csv(variableInfo,fn,row.names= TRUE )
siteNo <- "06818000"
pCode <- "00060"
start.date <- "2001-01-01"
end.date <- "2017-12-31"
pheasant <- readNWISuv(siteNumbers = siteNo,
parameterCd = pCode,
startDate = start.date,
endDate = end.date)
names(pheasant)
siteNo <- "06818000"
pCode <- "00060"
start.date <- "2001-01-01"
end.date <- "2020-12-31"
pheasant <- readNWISuv(siteNumbers = siteNo,
parameterCd = pCode,
startDate = start.date,
endDate = end.date)
names(pheasant)
pheasant <- renameNWISColumns(pheasant)
names(pheasant)
nn<-names(attributes(pheasant))
print(nn)
# 访问不同属性
url <- attr(pheasant, "url")
siteInfo <- attr(pheasant,"siteInfo")
variableInfo<- attr(pheasant,"variableInfo")
print(url)
print(siteInfo)
print(variableInfo)
fn <- "D:\\Program1\\study\\yan1\\remote_sensing_hydrology\\final_proj\\data\\discharge\\site06818000\\discharge.csv"
write.csv(pheasant,fn,row.names= TRUE )
fn <- "D:\\Program1\\study\\yan1\\remote_sensing_hydrology\\final_proj\\data\\discharge\\site06818000\\siteInfo.csv"
write.csv(siteInfo,fn,row.names= TRUE )
fn <- "D:\\Program1\\study\\yan1\\remote_sensing_hydrology\\final_proj\\data\\discharge\\site06818000\\variableInfo.csv"
write.csv(variableInfo,fn,row.names= TRUE )
siteNo <- "06807000"
pCode <- "00060"
start.date <- "2001-01-01"
end.date <- "2020-12-31"
pheasant <- readNWISuv(siteNumbers = siteNo,
parameterCd = pCode,
startDate = start.date,
endDate = end.date)
names(pheasant)
pheasant <- renameNWISColumns(pheasant)
names(pheasant)
nn<-names(attributes(pheasant))
print(nn)
# 访问不同属性
url <- attr(pheasant, "url")
siteInfo <- attr(pheasant,"siteInfo")
variableInfo<- attr(pheasant,"variableInfo")
print(url)
print(siteInfo)
print(variableInfo)
fn <- "D:\\Program1\\study\\yan1\\remote_sensing_hydrology\\final_proj\\data\\discharge\\site06807000\\discharge.csv"
write.csv(pheasant,fn,row.names= TRUE )
fn <- "D:\\Program1\\study\\yan1\\remote_sensing_hydrology\\final_proj\\data\\discharge\\site06807000\\siteInfo.csv"
write.csv(siteInfo,fn,row.names= TRUE )
fn <- "D:\\Program1\\study\\yan1\\remote_sensing_hydrology\\final_proj\\data\\discharge\\site06807000\\variableInfo.csv"
write.csv(variableInfo,fn,row.names= TRUE )
knitr::opts_chunk$set(echo = TRUE,comment='', engine.path = list(python = #'C:\\Users\\sustech\\.conda\\envs\\gdalcartopy\\python.exe',
'C:\\Users\\zsh\\.conda\\envs\\ese5023\\python.exe'))
library(showtext)
showtext_auto()
# 安装包
# install.packages("dataRetrieval")
# 载入包
library(dataRetrieval)
# 打开主包介绍"
vignette("dataRetrieval", package = "dataRetrieval")
siteNo <- "06818000"
pCode <- "00060"
start.date <- "1980-01-01"
end.date <- "2020-12-31"
pheasant <- readNWISuv(siteNumbers = siteNo,
parameterCd = pCode,
startDate = start.date,
endDate = end.date)
names(pheasant)
pheasant <- renameNWISColumns(pheasant)
names(pheasant)
nn<-names(attributes(pheasant))
print(nn)
# 访问不同属性
url <- attr(pheasant, "url")
siteInfo <- attr(pheasant,"siteInfo")
variableInfo<- attr(pheasant,"variableInfo")
print(url)
print(siteInfo)
print(variableInfo)
fn <- "D:\\Program1\\study\\yan1\\remote_sensing_hydrology\\final_proj\\data\\discharge\\site06818000\\discharge.csv"
write.csv(pheasant,fn,row.names= TRUE )
fn <- "D:\\Program1\\study\\yan1\\remote_sensing_hydrology\\final_proj\\data\\discharge\\site06818000\\siteInfo.csv"
write.csv(siteInfo,fn,row.names= TRUE )
fn <- "D:\\Program1\\study\\yan1\\remote_sensing_hydrology\\final_proj\\data\\discharge\\site06818000\\variableInfo.csv"
write.csv(variableInfo,fn,row.names= TRUE )
