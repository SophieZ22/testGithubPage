xlab(NULL)+
ylab(NULL)+
theme_minimal()
# theme(plot.title = element_text(hjust = 0.5),
#       plot.subtitle = element_text(hjust = 0.5)) +
# north(sf_az, symbol=10, location="bottomleft") +
# scalebar(usa[ usa$ID == "arizona" ,],
#          dist=100, dist_unit="mi", st.size = 3,
#          transform=TRUE, model="WGS84")
library(ggplot2)
library(stars)
library(terra)
library(sf)
library(dplyr)
usa <- st_as_sf(maps::map("state", fill=TRUE, plot =FALSE),
crs = 4269)
sf_az <- st_as_sf(AZ_sites,
coords = c("dec_long_va", "dec_lat_va"),
crs = 4269)
ggplot() +
geom_sf(data = usa[ usa$ID == "arizona"]) +
geom_sf(data = sf_az) +
xlab(NULL)+
ylab(NULL)+
theme_minimal() +
theme(plot.title = element_text(hjust = 0.5),
plot.subtitle = element_text(hjust = 0.5))
# north(sf_az, symbol=10, location="bottomleft") +
# scalebar(usa[ usa$ID == "arizona" ,],
#          dist=100, dist_unit="mi", st.size = 3,
#          transform=TRUE, model="WGS84")
library(ggplot2)
library(stars)
library(terra)
library(sf)
library(dplyr)
usa <- st_as_sf(maps::map("state", fill=TRUE, plot =FALSE),
crs = 4269)
sf_az <- st_as_sf(AZ_sites,
coords = c("dec_long_va", "dec_lat_va"),
crs = 4269)
ggplot() +
geom_sf(data = usa[ usa$ID == "arizona"]) +
geom_sf(data = sf_az) +
xlab(NULL)+
ylab(NULL)+
theme_minimal() +
theme(plot.title = element_text(hjust = 0.5),
plot.subtitle = element_text(hjust = 0.5)) +
north(sf_az, symbol=10, location="bottomleft")
?north
library(ggplot2)
library(stars)
library(terra)
library(sf)
library(dplyr)
usa <- st_as_sf(maps::map("state", fill=TRUE, plot =FALSE),
crs = 4269)
sf_az <- st_as_sf(AZ_sites,
coords = c("dec_long_va", "dec_lat_va"),
crs = 4269)
ggplot() +
geom_sf(data = usa[ usa$ID == "arizona"]) +
geom_sf(data = sf_az) +
xlab(NULL)+
ylab(NULL)+
theme_minimal() +
theme(plot.title = element_text(hjust = 0.5),
plot.subtitle = element_text(hjust = 0.5)) +
# north(sf_az, symbol=10, location="bottomleft")
# 不是ggsn的north方法，而是terra的north方法，所以有变化
north()+
scalebar(usa[ usa$ID == "arizona" ,],
dist=100, dist_unit="mi", st.size = 3,
transform=TRUE, model="WGS84")
library(ggplot2)
library(stars)
library(terra)
library(sf)
library(dplyr)
usa <- st_as_sf(maps::map("state", fill=TRUE, plot =FALSE),
crs = 4269)
sf_az <- st_as_sf(AZ_sites,
coords = c("dec_long_va", "dec_lat_va"),
crs = 4269)
ggplot() +
geom_sf(data = usa[ usa$ID == "arizona"]) +
geom_sf(data = sf_az) +
xlab(NULL)+
ylab(NULL)+
theme_minimal() +
theme(plot.title = element_text(hjust = 0.5),
plot.subtitle = element_text(hjust = 0.5)) +
# north(sf_az, symbol=10, location="bottomleft")
# 不是ggsn的north方法，而是terra的north方法，所以有变化
north('topright')+
scalebar(usa[ usa$ID == "arizona" ,],
dist=100, dist_unit="mi", st.size = 3,
transform=TRUE, model="WGS84")
# scalebar(usa[ usa$ID == "arizona" ,],
#          dist=100, dist_unit="mi", st.size = 3,
#          transform=TRUE, model="WGS84")
library(ggplot2)
library(stars)
library(terra)
library(sf)
library(dplyr)
usa <- st_as_sf(maps::map("state", fill=TRUE, plot =FALSE),
crs = 4269)
sf_az <- st_as_sf(AZ_sites,
coords = c("dec_long_va", "dec_lat_va"),
crs = 4269)
ggplot() +
geom_sf(data = usa[ usa$ID == "arizona"]) +
geom_sf(data = sf_az) +
xlab(NULL)+
ylab(NULL)+
theme_minimal() +
theme(plot.title = element_text(hjust = 0.5),
plot.subtitle = element_text(hjust = 0.5)) +
# north(sf_az, symbol=10, location="bottomleft")
# 不是ggsn的north方法，而是terra的north方法，所以有变化
north()
library(ggplot2)
library(stars)
library(terra)
library(sf)
library(dplyr)
usa <- st_as_sf(maps::map("state", fill=TRUE, plot =FALSE),
crs = 4269)
sf_az <- st_as_sf(AZ_sites,
coords = c("dec_long_va", "dec_lat_va"),
crs = 4269)
ggplot() +
geom_sf(data = usa[ usa$ID == "arizona"]) +
geom_sf(data = sf_az) +
xlab(NULL)+
ylab(NULL)+
theme_minimal() +
theme(plot.title = element_text(hjust = 0.5),
plot.subtitle = element_text(hjust = 0.5)) +
# north(sf_az, symbol=10, location="bottomleft")
# 不是ggsn的north方法，而是terra的north方法，所以有变化
# north()
scalebar(usa[ usa$ID == "arizona" ,],
dist=100, dist_unit="mi", st.size = 3,
transform=TRUE, model="WGS84")
library(ggplot2)
library(stars)
library(terra)
library(sf)
library(dplyr)
usa <- st_as_sf(maps::map("state", fill=TRUE, plot =FALSE),
crs = 4269)
sf_az <- st_as_sf(AZ_sites,
coords = c("dec_long_va", "dec_lat_va"),
crs = 4269)
ggplot() +
geom_sf(data = usa[ usa$ID == "arizona"]) +
geom_sf(data = sf_az) +
xlab(NULL)+
ylab(NULL)+
theme_minimal() +
theme(plot.title = element_text(hjust = 0.5),
plot.subtitle = element_text(hjust = 0.5))
# north(sf_az, symbol=10, location="bottomleft")
# 不是ggsn的north方法，而是terra的north方法，所以有变化
# north()
# scalebar(usa[ usa$ID == "arizona" ,],
#          dist=100, dist_unit="mi", st.size = 3,
#          transform=TRUE, model="WGS84")
library(ggplot2)
library(stars)
library(terra)
library(sf)
library(dplyr)
usa <- st_as_sf(maps::map("state", fill=TRUE, plot =FALSE),
crs = 4269)
sf_az <- st_as_sf(AZ_sites,
coords = c("dec_long_va", "dec_lat_va"),
crs = 4269)
ggplot() +
geom_sf(data = usa[ usa$ID == "arizona"]) +
geom_sf(data = sf_az) +
xlab(NULL)+
ylab(NULL)+
theme_minimal() +
theme(plot.title = element_text(hjust = 0.5),
plot.subtitle = element_text(hjust = 0.5)) +
# north(sf_az, symbol=10, location="bottomleft")
# 不是ggsn的north方法，而是terra的north方法，所以有变化
north('topright')
ggplot() +
geom_sf(data = usa[ usa$ID == "arizona"]) +
geom_sf(data = sf_az) +
xlab(NULL)+
ylab(NULL)+
theme_minimal() +
theme(plot.title = element_text(hjust = 0.5),
plot.subtitle = element_text(hjust = 0.5)) +
# north(sf_az, symbol=10, location="bottomleft")
# 不是ggsn的north方法，而是terra的north方法，所以有变化
north(cbind(5.8, 50.1))
library(ggplot2)
library(stars)
library(terra)
library(sf)
library(dplyr)
usa <- st_as_sf(maps::map("state", fill=TRUE, plot =FALSE),
crs = 4269)
sf_az <- st_as_sf(AZ_sites,
coords = c("dec_long_va", "dec_lat_va"),
crs = 4269)
ggplot() +
geom_sf(data = usa[ usa$ID == "arizona"]) +
geom_sf(data = sf_az) +
xlab(NULL)+
ylab(NULL)+
theme_minimal() +
theme(plot.title = element_text(hjust = 0.5),
plot.subtitle = element_text(hjust = 0.5)) +
# north(sf_az, symbol=10, location="bottomleft")
# 不是ggsn的north方法，而是terra的north方法，所以有变化
north(cbind(5.8, 50.1))
library(ggplot2)
library(stars)
library(terra)
library(sf)
library(dplyr)
usa <- st_as_sf(maps::map("state", fill=TRUE, plot =FALSE),
crs = 4269)
sf_az <- st_as_sf(AZ_sites,
coords = c("dec_long_va", "dec_lat_va"),
crs = 4269)
ggplot() +
geom_sf(data = usa[ usa$ID == "arizona"]) +
geom_sf(data = sf_az) +
xlab(NULL)+
ylab(NULL)+
theme_minimal() +
theme(plot.title = element_text(hjust = 0.5),
plot.subtitle = element_text(hjust = 0.5))
# north(sf_az, symbol=10, location="bottomleft")
# 不是ggsn的north方法，而是terra的north方法，所以有变化
north(cbind(5.8, 50.1))
# scalebar(usa[ usa$ID == "arizona" ,],
#          dist=100, dist_unit="mi", st.size = 3,
#          transform=TRUE, model="WGS84")
library(ggplot2)
library(stars)
library(terra)
library(sf)
library(dplyr)
usa <- st_as_sf(maps::map("state", fill=TRUE, plot =FALSE),
crs = 4269)
sf_az <- st_as_sf(AZ_sites,
coords = c("dec_long_va", "dec_lat_va"),
crs = 4269)
ggplot() +
geom_sf(data = usa[ usa$ID == "arizona"]) +
geom_sf(data = sf_az) +
xlab(NULL)+
ylab(NULL)+
theme_minimal() +
theme(plot.title = element_text(hjust = 0.5),
plot.subtitle = element_text(hjust = 0.5))
# north(sf_az, symbol=10, location="bottomleft")
# 不是ggsn的north方法，而是terra的north方法，所以有变化
north(cbind(5.8, 50.1))
library(ggplot2)
library(stars)
# library(terra)
library(sf)
library(dplyr)
usa <- st_as_sf(maps::map("state", fill=TRUE, plot =FALSE),
crs = 4269)
sf_az <- st_as_sf(AZ_sites,
coords = c("dec_long_va", "dec_lat_va"),
crs = 4269)
ggplot() +
geom_sf(data = usa[ usa$ID == "arizona"]) +
geom_sf(data = sf_az) +
xlab(NULL)+
ylab(NULL)+
theme_minimal() +
theme(plot.title = element_text(hjust = 0.5),
plot.subtitle = element_text(hjust = 0.5))
# north(sf_az, symbol=10, location="bottomleft")
# 不是ggsn的north方法，而是terra的north方法，所以有变化
north(cbind(5.8, 50.1))
?north
library(ggplot2)
library(stars)
#library(terra)
library(sf)
library(dplyr)
usa <- st_as_sf(maps::map("state", fill=TRUE, plot =FALSE),
crs = 4269)
sf_az <- st_as_sf(AZ_sites,
coords = c("dec_long_va", "dec_lat_va"),
crs = 4269)
ggplot() +
geom_sf(data = usa[ usa$ID == "arizona"]) +
geom_sf(data = sf_az) +
xlab(NULL)+
ylab(NULL)+
theme_minimal() +
theme(plot.title = element_text(hjust = 0.5),
plot.subtitle = element_text(hjust = 0.5))
# north(sf_az, symbol=10, location="bottomleft")
# 不是ggsn的north方法，而是terra的north方法，所以有变化
north(cbind(5.8, 50.1))
?north
detach("package:terra", unload = TRUE)
library(ggplot2)
library(stars)
#library(terra)
library(sf)
library(dplyr)
usa <- st_as_sf(maps::map("state", fill=TRUE, plot =FALSE),
crs = 4269)
sf_az <- st_as_sf(AZ_sites,
coords = c("dec_long_va", "dec_lat_va"),
crs = 4269)
ggplot() +
geom_sf(data = usa[ usa$ID == "arizona"]) +
geom_sf(data = sf_az) +
xlab(NULL)+
ylab(NULL)+
theme_minimal() +
theme(plot.title = element_text(hjust = 0.5),
plot.subtitle = element_text(hjust = 0.5))
# north(sf_az, symbol=10, location="bottomleft")
# 不是ggsn的north方法，而是terra的north方法，所以有变化
north(cbind(5.8, 50.1))
library(ggplot2)
library(stars)
library(terra)
library(sf)
library(dplyr)
usa <- st_as_sf(maps::map("state", fill=TRUE, plot =FALSE),
crs = 4269)
sf_az <- st_as_sf(AZ_sites,
coords = c("dec_long_va", "dec_lat_va"),
crs = 4269)
ggplot() +
geom_sf(data = usa[ usa$ID == "arizona"]) +
geom_sf(data = sf_az) +
xlab(NULL)+
ylab(NULL)+
theme_minimal() +
theme(plot.title = element_text(hjust = 0.5),
plot.subtitle = element_text(hjust = 0.5))
# north(sf_az, symbol=10, location="bottomleft")
# 不是ggsn的north方法，而是terra的north方法，所以有变化
north(cbind(5.8, 50.1))
install.packages("tidyterra")
library(ggplot2)
library(stars)
library(tidyterra)
library(sf)
library(dplyr)
usa <- st_as_sf(maps::map("state", fill=TRUE, plot =FALSE),
crs = 4269)
sf_az <- st_as_sf(AZ_sites,
coords = c("dec_long_va", "dec_lat_va"),
crs = 4269)
ggplot() +
geom_sf(data = usa[ usa$ID == "arizona"]) +
geom_sf(data = sf_az) +
xlab(NULL)+
ylab(NULL)+
theme_minimal() +
theme(plot.title = element_text(hjust = 0.5),
plot.subtitle = element_text(hjust = 0.5))
# north(sf_az, symbol=10, location="bottomleft")
# 不是ggsn的north方法，而是terra的north方法，所以有变化
north(cbind(5.8, 50.1))
detach("package:terra", unload = TRUE)
library(ggplot2)
library(stars)
library(terra)
library(sf)
library(dplyr)
usa <- st_as_sf(maps::map("state", fill=TRUE, plot =FALSE),
crs = 4269)
sf_az <- st_as_sf(AZ_sites,
coords = c("dec_long_va", "dec_lat_va"),
crs = 4269)
ggplot() +
geom_sf(data = usa[ usa$ID == "arizona"]) +
geom_sf(data = sf_az) +
xlab(NULL)+
ylab(NULL)+
theme_minimal() +
theme(plot.title = element_text(hjust = 0.5),
plot.subtitle = element_text(hjust = 0.5))
# north(sf_az, symbol=10, location="bottomleft")
# 不是ggsn的north方法，而是terra的north方法，所以有变化
north(cbind(5.8, 50.1))
library(ggplot2)
library(stars)
library(terra)
library(sf)
library(dplyr)
usa <- st_as_sf(maps::map("state", fill=TRUE, plot =FALSE),
crs = 4269)
sf_az <- st_as_sf(AZ_sites,
coords = c("dec_long_va", "dec_lat_va"),
crs = 4269)
ggplot() +
geom_sf(data = usa[ usa$ID == "arizona"]) +
geom_sf(data = sf_az) +
xlab(NULL)+
ylab(NULL)+
theme_minimal() +
theme(plot.title = element_text(hjust = 0.5),
plot.subtitle = element_text(hjust = 0.5))
# north(sf_az, symbol=10, location="bottomleft")
# 不是ggsn的north方法，而是terra的north方法，所以有变化
north(cbind(5.8, 50.1))
library(ggplot2)
library(stars)
library(terra)
library(sf)
library(dplyr)
usa <- st_as_sf(maps::map("state", fill=TRUE, plot =FALSE),
crs = 4269)
sf_az <- st_as_sf(AZ_sites,
coords = c("dec_long_va", "dec_lat_va"),
crs = 4269)
ggplot() +
geom_sf(data = usa[ usa$ID == "arizona"]) +
geom_sf(data = sf_az) +
xlab(NULL)+
ylab(NULL)+
theme_minimal() +
theme(plot.title = element_text(hjust = 0.5),
plot.subtitle = element_text(hjust = 0.5)) +
coord_sf(crs = 3857)
# north(sf_az, symbol=10, location="bottomleft")
# 不是ggsn的north方法，而是terra的north方法，所以有变化
#north(cbind(5.8, 50.1))
# scalebar(usa[ usa$ID == "arizona" ,],
#          dist=100, dist_unit="mi", st.size = 3,
#          transform=TRUE, model="WGS84")
library(ggplot2)
library(stars)
library(terra)
library(sf)
library(dplyr)
usa <- st_as_sf(maps::map("state", fill=TRUE, plot =FALSE),
crs = 4269)
sf_az <- st_as_sf(AZ_sites,
coords = c("dec_long_va", "dec_lat_va"),
crs = 4269)
ggplot() +
geom_sf(data = usa[ usa$ID == "arizona"]) +
geom_sf(data = sf_az) +
xlab(NULL)+
ylab(NULL)+
theme_minimal() +
theme(plot.title = element_text(hjust = 0.5),
plot.subtitle = element_text(hjust = 0.5)) +
coord_sf(crs = 3857)
# north(sf_az, symbol=10, location="bottomleft")
# 不是ggsn的north方法，而是terra的north方法，所以有变化
#north(cbind(5.8, 50.1))
# scalebar(usa[ usa$ID == "arizona" ,],
#          dist=100, dist_unit="mi", st.size = 3,
#          transform=TRUE, model="WGS84")
knitr::opts_chunk$set(echo = TRUE,comment='', engine.path = list(python = #'C:\\Users\\sustech\\.conda\\envs\\gdalcartopy\\python.exe',
'C:\\Users\\zsh\\.conda\\envs\\ese5023\\python.exe'))
library(showtext)
showtext_auto()
# 安装包
# install.packages("dataRetrieval")
# 载入包
library(dataRetrieval)
# 打开主包介绍"
vignette("dataRetrieval", package = "dataRetrieval")
siteNo <- "06818000"
pCode <- "00060"
start.date <- "2003-01-01"
end.date <- "2011-12-31"
pheasant <- readNWISuv(siteNumbers = siteNo,
parameterCd = pCode,
startDate = start.date,
endDate = end.date)
names(pheasant)
pheasant <- renameNWISColumns(pheasant)
names(pheasant)
names(attributes(pheasant))
# 访问不同属性
url <- attr(pheasant, "url")
url
View(pheasant)
library(ggplot2)
ts <- ggplot(data = pheasant,
aes(dateTime, Flow_Inst)) +
geom_line()
ts
parameterInfo <- attr(pheasant, "variableInfo")
siteInfo <- attr(pheasant, "siteInfo")
ts <- ts +
xlab("") +
ylab(parameterInfo$variableDescription) +
ggtitle(siteInfo$station_nm)
ts
View(parameterInfo)
View(siteInfo)
View(ts)
